= Installation =

== Building the package ==

 * Ensure that 'dpkg' and 'svn' packages are installed on the machine
 * Check out the root of the branch/tag/branch of McVirt
 * From within the root of the working copy, run [source:/mcvirt/trunk/build.sh]

== Install Operating System ==

 * McVirt is currently build to support Ubuntu 14.04 with native version of dependencies.
 * When installing the operating system create the following logical volumes:
   * Root - Create a 50GB partition using ext4. This is used for the operating system, McVirt configurations and ISO images
   * SWAP - leave the suggested SWAP volume unaltered

== Installing Package ==

 * Puppet is used install the McVirt package and other tools used on the system. To install puppet, please see wiki:Puppet#Installation
 * The McVirt package is retrieved from the Ubuntu repository on orion.

== Configure Network ==

=== Remove default network ===

 * By default, libvirt configures a default network, 'default'.
 * This should be removed by performing the following:
{{{
virsh net-destroy default
virsh net-undefine default
}}}

=== Create Network ===

 * Virsh is used to create network objects, using the [source:/mcvirt/trunk/Documentation/virsh_example/network.xml network XML] example.
 * Adapt the example, changing the network name, which is used to identify the network object for use with virtual machines, and bridge name, which identifies the vmbr interface that the network binds to.
 * Import the adapted network XML using the following:
{{{
virsh net-define ./network.xml
virsh net-autostart 'Production'
virsh net-start 'Production'
}}}
  '''Note:''' Replace 'Production' with the name of the new network object.

== Configure McVirt ==

 * The first time McVirt is run, it creates a configuration file for itself, found in '''/var/lib/mcvirt/config.json'''.
 * Set the volume group for the VMs to be stored in, within the configuration file.